<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>å¿ƒæƒ…èˆ‡ç¾é£Ÿæ¨è–¦</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <style>
            body {
                background-color: #fff9c4; /* èƒŒæ™¯è‰² */
                color:            #333;    /* å­—é«”é¡è‰² */
                line-height:      1.6;       /* è¡Œé«˜ */
                font-weight:      bold;      /* å­—é«”åŠ ç²— */
                
                /* é»æ€§é å°¾ + å‚ç›´å±…ä¸­æ€æƒ³çš„çµåˆ (Flexbox) */
                margin:           0;       /* ç§»é™¤å¤–é‚Šè· */
                display:          flex;    /* è¨­å®šç‚º Flex å®¹å™¨ */
                flex-direction:   column;  /* å‚ç›´å †ç–Š */
                min-height:       100vh;   /* æœ€å°é«˜åº¦ç‚ºè¦–çª—é«˜åº¦ï¼Œç¢ºä¿ç²˜æ€§é å°¾ */
                height:           100vh;   /* ç¢ºä¿é«˜åº¦ç­‰æ–¼è¦–çª—é«˜åº¦ */
                overflow:         hidden;  /* éš±è—æº¢å‡ºå…§å®¹ï¼Œé˜²æ­¢æ»¾å‹•æ¢å‡ºç¾ */
            }

            /* é é¦– (#header) */
            #header {
                background-color: #f3d45d;        /* èƒŒæ™¯è‰² */
                border-bottom:    1px solid #663; /* åº•éƒ¨é‚Šç·š */
                display:          flex;           /* è¨­å®šç‚º Flex å®¹å™¨ */
                justify-content:  space-between;   /* å·¦å³å°é½Š (Logo å’Œ å°è¦½) */
                align-items:      center;         /* å‚ç›´ç½®ä¸­å°é½Š */
                height:           100px;          /* ä¿æŒåŸé«˜åº¦ */
                padding:          0 20px;         /* å·¦å³å…§é‚Šè· */
                box-shadow:       0 2px 5px rgba(0, 0, 0, 0.1); /* è¨­å®šé™°å½± */
                flex-shrink:      0;              /* ä¸å…è¨±æ”¶ç¸® */
                
                /* å›ºå®šå®šä½ï¼Œè¦†è“‹ Flex å®¹å™¨çš„ Flowï¼Œç¢ºä¿å›ºå®šåœ¨é ‚éƒ¨ */
                position:         fixed;          /* å›ºå®šå®šä½ */
                top:              0;              /* ä½æ–¼é é¢é ‚éƒ¨ */
                left:             0;              /* ä½æ–¼é é¢å·¦å´ */
                width:            100%;           /* å¯¬åº¦ä½”æ»¿ */
                z-index:          100;            /* ç–Šæ”¾å±¤ç´šè¼ƒé«˜ */
            }
            
            #header ul { 
                list-style-type:  none;    /* ç§»é™¤åˆ—è¡¨æ¨™è¨˜ */
                margin:           20px;       /* å¤–é‚Šè· */
                padding:          20px;       /* å…§é‚Šè· */
                display:          flex;    /* å•Ÿç”¨ Flex æ’åˆ—ï¼Œä½¿é¸å–®é …ç›®æ°´å¹³æ’åˆ— */
            }
            
            #header li a {
                color:            #380596;         /* å­—é«”é¡è‰² */
                background-color: #fff9c4;        /* èƒŒæ™¯è‰² */
                text-decoration:  none;           /* ç§»é™¤é è¨­åº•ç·š */
                border:           1px #663 solid; /* é‚Šæ¡† */
                margin-left:      10px;           /* å·¦å´é–“è· */
                padding:          8px 15px;       /* å…§é‚Šè· */
                font-weight:      bold;           /* å­—é«”åŠ ç²— */
                border-radius:    15px;            /* åœ“è§’å¼§åº¦ */
            }
            
            #header li a:hover {
                background-color: #eee;        /*  æ»‘é¼ æŒ‡åˆ°æ™‚è®Šè‰² */
            }

            /* é å°¾ BMI  */
            #bmi-calc {
                background-color: #70b3e6;        /* èƒŒæ™¯è‰² */
                color:            #222;           /* å­—é«”é¡è‰² */
                height:           100px;          /* ä¿æŒåŸé«˜åº¦ */
                display:          flex;           /* è¨­å®šç‚º Flex å®¹å™¨ */
                justify-content:  space-around;   /* å¹³å‡åˆ†ä½ˆç©ºé–“ */
                align-items:      center;         /* å‚ç›´ç½®ä¸­å°é½Š */
                box-sizing:       border-box;     /* é‚Šæ¡†ç›’æ¨¡å‹ */
                padding:          0 20px;         /* å·¦å³å…§é‚Šè· */
                flex-shrink:      0;              /* ä¸å…è¨±æ”¶ç¸® */
                
                /* å›ºå®šå®šä½ï¼Œç¢ºä¿å›ºå®šåœ¨åº•éƒ¨ */
                position:         fixed;          /* å›ºå®šå®šä½ */
                bottom:           0;              /* é é¢åº•éƒ¨ */
                left:             0;              /* é é¢å·¦å´ */
                width:            100%;           /* å¯¬åº¦ä½”æ»¿ */
                z-index:          100;            /* ç–Šæ”¾å±¤ç´šè¼ƒé«˜ */
            }
            
            #bmi-calc input[type="number"] { 
                width:   100px;  /* è¼¸å…¥æ¡†å¯¬åº¦ */
                padding: 5px;   /* è¼¸å…¥æ¡†å…§é‚Šè· */
            }
            
            #bmi-calc p { 
                margin: 5px 0;  /* èª¿æ•´æ®µè½ä¸Šä¸‹å¤–é‚Šè· */
            }
            
            /* ä¸»è¦å…§å®¹å€ (#main-wrap) - è² è²¬å¿ƒæƒ…é¸æ“‡å€å¡Šçš„å‚ç›´å±…ä¸­ */
            #main-wrap {
                display:         flex;    /* è¨­å®šç‚º Flex å®¹å™¨ */
                justify-content: center;  /* æ°´å¹³ç½®ä¸­å°é½Š */
                align-items:     center;  /* å‚ç›´ç½®ä¸­å°é½Š */
                flex-grow:       1;       /* ä½”æ“š Flex å®¹å™¨å‰©é¤˜çš„å‚ç›´ç©ºé–“ */
                width:           100%;    /* å¯¬åº¦ä½”æ»¿ */
                box-sizing:      border-box; /* é‚Šæ¡†ç›’æ¨¡å‹ */
                padding-top:     100px;   /* ç‚ºé¿é–‹é ‚éƒ¨ Header é¨°å‡ºç©ºé–“ */
                padding-bottom:  100px;   /* ç‚ºé¿é–‹åº•éƒ¨ BMI é¨°å‡ºç©ºé–“ */
                overflow:        auto;    /* ç¢ºä¿å…§å®¹è¶…å‡ºæ™‚å¯ä»¥æ»¾å‹• */
            }
            

            /*å¿ƒæƒ…é¸æ“‡å€å¡Š (Mood Select)*/

            #mood-select {
                background-color: #ffffff;      /* èƒŒæ™¯è‰² */
                display:          flex;         /* è¨­å®šç‚º Flex å®¹å™¨ */
                flex-direction:   column;       /* å‚ç›´å †ç–Šå­å…ƒç´  */
                align-items:      center;       /* å‚ç›´ç½®ä¸­å°é½Š */
                text-align:       center;       /* æ–‡å­—ç½®ä¸­ */
                min-width:        400px;        /* æœ€å°å¯¬åº¦ */
                border-radius:    10px;         /* è¨­å®šåœ“è§’ */
                box-shadow:       0 4px 15px rgba(0, 0, 0, 0.1); /* è¨­å®šé™°å½± */
                padding:          40px;         /* è¨­å®šå…§é‚Šè· */
            }
            
            /* é¸æ“‡å™¨æ­£ä¸­å¤®çš„èª¿æ•´å€å¡Š */
            #h3 { 
                color:           rgb(119, 115, 13); /* å­—é«”é¡è‰² */
                font-size:       3.5em;            /* å­—é«”å¤§å° */
                margin-bottom:   5px;              /* æ¨™é¡Œåº•éƒ¨å¤–é‚Šè· */
            }
            
            #p { 
                color:           #176d14;        /* å­—é«”é¡è‰² */
                font-size:       1.2em;            /* å­—é«”å¤§å° */
                margin-top:      5px;              /* é ‚éƒ¨å¤–é‚Šè· */
                margin-bottom:   30px;             /* åº•éƒ¨å¤–é‚Šè· */
            }
            
            #mood-icons { 
                display:         flex;    /* è¨­å®šç‚º Flex å®¹å™¨ */
                gap:             30px;    /* è¨­å®šå­å…ƒç´ é–“çš„é–“è· */
                margin-bottom:   30px;    /* è¨­å®šåº•éƒ¨å¤–é‚Šè· */
            }
            
            .mood-image {
                width:           300px;   /* åœ–ç‰‡å¯¬åº¦ */
                height:          300px;   /* åœ–ç‰‡é«˜åº¦ */
                border:          3px solid black; /* é è¨­é‚Šæ¡† */
            }
            
            #happyImage { 
                cursor: pointer; /* é»æ“Šåœ–ç¤ºï¼Œé¼ æ¨™è®Šç‚ºæŒ‡æ¨™ */
            } 
            
            #sadImage { 
                cursor: default; /* ä¸å¯é»æ“Šåœ–ç¤ºï¼Œé¼ æ¨™ç‚ºé è¨­ */
            } 
            /*é¡ä¼¼éŠæˆ²å‚³å¥‡è£å‚™ç‰¹æ•ˆ*/
            .mood-image.selected { 
                border:     5px solid #ff9800;                 /* é‚Šæ¡†é¡è‰² */
                box-shadow: 0 0 10px 5px rgba(255, 235, 59, 0.8); /* é™°å½± */
            }


            /* ---      JSæ¨¡æ…‹è¦–çª— (Modal)        --- */

            #food-modal {
                background-color: rgba(56, 56, 34, 0.6); /* è¨­å®šèƒŒæ™¯é¡è‰² */
                display:          none;             /*é è¨­éš±è— */
                position:         fixed;            /* å›ºå®šå®šä½ */
                top:              0;                /* é é¢é ‚éƒ¨ */
                left:             0;                /* é é¢å·¦å´ */
                width:            100%;             /* å¯¬åº¦ä½”æ»¿ */
                height:           100%;             /* é«˜åº¦ä½”æ»¿ */
                z-index:          9527;             /* ç–Šæ”¾å±¤ç´š */
            }

            .modal-content {
                background-color: #fefefe;                        /* æ¨¡æ…‹æ¡†èƒŒæ™¯è‰² */
                border:           1px solid #888;                 /* æ¨¡æ…‹æ¡†é‚Šæ¡† */
                width:            800px;                            /* æ¨¡æ…‹æ¡†å¯¬åº¦ */
                margin:           auto;                             /* è‡ªå‹•å¤–é‚Šè· (èˆ‡ Flex é…åˆå¯¦ç¾å±…ä¸­) */
                border-radius:    30px;                             /* åœ“è§’ */
                box-shadow:       0 10px 30px rgba(0, 0, 0, 0.5); /* é™°å½± */
                padding:          20px;                             /* å…§é‚Šè· */
            }
            /* è¨­å®š 'X' æŒ‰éˆ• */
            .close-btn { 
                color:       #000000;     /* æŒ‰éˆ•é¡è‰² */
                font-size:   40px;     /* æŒ‰éˆ•å¤§å° */
                font-weight: bold;     /* æŒ‰éˆ•å­—é«”åŠ ç²— */
                cursor:      pointer;  /* é¼ æ¨™è®Šç‚ºæŒ‡æ¨™ */
                float:       right;    /* é å³æµ®å‹• */
            } 
            
            .close-btn:hover, .close-btn:focus { 
                color:           #8500f1;          /* æ»‘é¼ æŒ‡åˆ°æ™‚è®Šè‰² */
                text-decoration: none;          /* ç§»é™¤åº•ç·š */
                cursor:          pointer;       /* é¼ æ¨™è®Šç‚ºæŒ‡æ¨™ */
            }

            /* è¨­å®šèœå–® */

            .menu-grid { 
                display:               grid;           /* è¨­å®šç‚º Grid ç¶²æ ¼å®¹å™¨ */
                grid-template-columns: repeat(3, 1fr); /* è¨­å®šæ¯è¡Œ3æ ¼ */
                gap:                   15px;           /* è¨­å®šç¶²æ ¼é–“è· */
                margin-top:            20px;           /* è¨­å®šé ‚éƒ¨å¤–é‚Šè· */
            }
                    /*èœå–®æ¨™é¡Œ*/
            #menu-title { 
                color:         #d35400;   /* è¨­å®šæ¨™é¡Œé¡è‰² */
                font-size:     3em;         /* è¨­å®šæ¨™é¡Œå­—é«”å¤§å° */
                text-align:    center;      /* æ–‡å­—ç½®ä¸­ */
                margin-bottom: 20px;        /* è¨­å®šåº•éƒ¨å¤–é‚Šè· */
            }
            /*èœå–®åœ–ç‰‡*/
            .menu-item img {
                width:           100%;           /* åœ–ç‰‡å¯¬åº¦ä½”æ»¿çˆ¶å®¹å™¨ */
                height:          180px;          /* åœ–ç‰‡é«˜åº¦ */
                object-fit:      contain;        /* ä¿æŒåœ–ç‰‡æ¯”ä¾‹ä¸¦å®Œæ•´é¡¯ç¤º */
                margin-bottom:   5px;             /* è¨­å®šåº•éƒ¨å¤–é‚Šè· */
            }
            /*èœå–®åå­*/
            .food-name { 
                color:      #333;        /* å­—é«”é¡è‰²  */
                font-size: 1em;            /* å­—é«”å¤§å° */
                font-weight:  bold;        /* å­—é«”åŠ ç²— */
                margin:    0;              /* ç§»é™¤å¤–é‚Šè· */
                text-align: center;        /* æ–‡å­—ç½®ä¸­ */
            }
            /*èœå–®è¨»è¨˜å€*/
            #menu-note { 
                background-color: #ffe600a2; /* èƒŒæ™¯è‰²  */
                font-size:        0.9em;   /* å­—é«”å¤§å° */
                margin-top:       15px;    /* é ‚éƒ¨å¤–é‚Šè· */
                padding:          10px;    /* å…§é‚Šè· */
                border-radius:    30px;     /* åœ“è§’ */
            }

        </style>

        <script>
    /* é å…ˆæº–å‚™å¥½æ‰€æœ‰çš„èœå–® HTML å…§å®¹ã€‚*/
    const allMenu = `
        <div id="menu-list">
            <h3 id="menu-title">ç¾å‘³é¤é»</h3>
            <div class="menu-grid">
                <div class="menu-item"><img src="./media/food1.jpg" alt="é¦™æ»·é›è…¿ä¾¿ç•¶"><p class="food-name">é¦™æ»·é›è…¿ä¾¿ç•¶</p></div>
                <div class="menu-item"><img src="./media/food2.jpg" alt="èˆ’è‚¥é›æ²™æ‹‰"><p class="food-name">èˆ’è‚¥é›æ²™æ‹‰</p></div>
                <div class="menu-item"><img src="./media/food3.jpg" alt="åšåˆ‡å«©ç‰›æ¼¢å ¡"><p class="food-name">åšåˆ‡å«©ç‰›æ¼¢å ¡</p></div>
                <div class="menu-item"><img src="./media/food4.jpg" alt="æ¸…æ»·ç‰›è…±ä¾¿ç•¶"><p class="food-name">æ¸…æ»·ç‰›è…±ä¾¿ç•¶</p></div>
                <div class="menu-item"><img src="./media/food5.jpg" alt="èµ·å¸å¥¶å¥¶é‹"><p class="food-name">èµ·å¸å¥¶å¥¶é‹</p></div>
                <div class="menu-item"><img src="./media/food6.jpg" alt="é€Ÿé£Ÿ"><p class="food-name">å¿«æ¨‚é€Ÿé£Ÿ</p></div>
            </div>
            <div id="menu-note">
                <p>ä»Šæ—¥ç‰¹åˆ¥æ¨è–¦èœè‰²èªªæ˜ï¼šé¦™æ»·é›è…¿ä¾¿ç•¶ã€èˆ’è‚¥é›æ²™æ‹‰ã€åšåˆ‡å«©ç‰›æ¼¢å ¡ã€æ¸…æ»·ç‰›è…±ä¾¿ç•¶ã€èµ·å¸å¥¶å¥¶é‹ã€å¿«æ¨‚é€Ÿé£Ÿã€‚</p>
            </div>
        </div>
    `;

    // å®£å‘Šä¸€å€‹å‡½å¼ (function)ï¼ŒåŠŸèƒ½æ˜¯ã€Œé—œé–‰å½ˆè·³è¦–çª—ã€ã€‚
    function closeModal() {
        document.getElementById('food-modal').style.display = 'none';
    }


    /*å¿ƒæƒ…é¸æ“‡åŠæ¨¡æ…‹è¦–çª—é¡¯ç¤º*/

    function selectMood(moodValue) {
        const happyImg = document.getElementById('happyImage');
        const sadImg = document.getElementById('sadImage');
        const modal = document.getElementById('food-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');

        // 1. é‡è¨­æ‰€æœ‰é¸ä¸­ç‹€æ…‹
        happyImg.classList.remove('selected');
        sadImg.classList.remove('selected'); 
        
        // 2. 'happy' é»æ“Šäº‹ä»¶
        if (moodValue === 'happy') {
            happyImg.classList.add('selected'); 
            
            modalTitle.innerHTML = "ğŸ‰ å¿ƒæƒ…æ„‰æ‚…ï¼ æ¨è–¦é«˜èƒ½é‡é¤é»"; 
            modalBody.innerHTML = allMenu;                             
            
            modal.style.display = 'flex'; // é¡¯ç¤ºå½ˆçª—ã€‚
        } else {
            closeModal();
        }
    }


    /*ç›£è½å™¨*/

    document.addEventListener('DOMContentLoaded', function() {
        const sadImg = document.getElementById('sadImage');

        /*  æ‚²å‚·åœ–è·Ÿæ¢—åœ–çš„æ»‘é¼ äº’å‹• */
        sadImg.addEventListener('mouseover', function() { 
            this.src = './media/small.jpg'; 
        }); 
        sadImg.addEventListener('mouseout', function() { 
            this.src = './media/sad.jpg'; 
        }); 
    });


    /*BMI è¨ˆç®—åŠŸèƒ½*/

    function calculateBMI(){
        var height = parseFloat(document.getElementById("height").value);
        var weight = parseFloat(document.getElementById("weight").value);
        var bmiStatusElement = document.getElementById("bmi-msg"); 
        var bmiDisplay = document.getElementById("BMI");

        if(isNaN(height) || isNaN(weight) || height <= 0 || weight <= 0) {
            bmiDisplay.innerHTML = "0";
            if (bmiStatusElement) {
                bmiStatusElement.innerHTML = "è«‹è¼¸å…¥æœ‰æ•ˆæ•¸å€¼";
                bmiStatusElement.style.color = "black";
            }
            return;
        }

        height = height / 100;
        var bmi = weight / (height * height); 
        bmiDisplay.innerHTML = bmi.toFixed(2);

        var status = "";
        var statusColor = "";

        /*BMIé«”æ…‹åˆ¤å®šä¸¦æ”¹è®Šå­—é«”é¡è‰²*/

        if (bmi < 18.5) { status = "é«”é‡éè¼•"; statusColor = "#2196F3"; } 
        else if (bmi >= 18.5 && bmi < 24) { status = "æ­£å¸¸ç¯„åœ"; statusColor = "#4CAF50"; } 
        else if (bmi >= 24 && bmi < 27) { status = "é«”é‡éé‡"; statusColor = "#FFC107"; } 
        else if (bmi >= 27 && bmi < 30) { status = "è¼•åº¦è‚¥èƒ–"; statusColor = "#FF9800"; } 
        else { status = "ä¸­åº¦/é‡åº¦è‚¥èƒ–"; statusColor = "#F44336"; } 
        
        if (bmiStatusElement) {
            bmiStatusElement.innerHTML = "é«”æ…‹åˆ¤å®š: " + status;
            bmiStatusElement.style.color = statusColor;
        }
    }
        </script>
    </head>
    <body>
        <div id="header">
            <a href="index.html"><img id="logo" src="./media/LOGO.jpg" alt="Logo" width="80"></a> 
            <nav>
                <ul>
                    <li><a href="../index.html">å°çµ„é¦–é </a></li>
                    <li><a href="./è¿ªå£«å°¼ç©å¶.html">è¿ªå£«å°¼ç©å¶</a></li>
                    <li><a href="./èŠ±å®¶çƒ¹é£ªæ•™å®¤.html">èŠ±å®¶çƒ¹é£ªæ•™å®¤</a></li>
                </ul>
            </nav>
        </div>

        <div id="main-wrap"> 
            <div id="mood-select">
                <h3 id="h3">ä»Šå¤©æ„Ÿè¦ºå¦‚ä½•ï¼Ÿ</h3>
                <p id="p">æˆ‘å€‘æœƒç‚ºä½ æ¨è–¦é©åˆä»Šå¤©å¿ƒæƒ…çš„é£Ÿç‰©</p>
                
                <div id="mood-icons"> 
                    <img id="happyImage" class="mood-image" src="./media/happy.jpg" alt="é–‹å¿ƒåœ–" onclick="selectMood('happy')">
                    <img id="sadImage" class="mood-image" src="./media/sad.jpg" alt="æ‚²å‚·åœ–">
                </div>
            </div>
        </div>

        <div id="bmi-calc">
            <p>èº«é«˜(å…¬åˆ†) :<input id="height" type="number" oninput="calculateBMI()"></p>
            <p>é«”é‡(å…¬æ–¤) :<input id="weight" type="number" oninput="calculateBMI()"></p>
            <p>BMIæŒ‡æ•¸ = <span id="BMI" style="font-weight: bold;">0</span></p>
            <p id="bmi-msg" style="font-weight: bold;">è«‹è¼¸å…¥èº«é«˜å’Œé«”é‡</p> 
        </div>

        <div id="food-modal">
            <div class="modal-content">
                <span class="close-btn" onclick="closeModal()">&times;</span> 
                <h3 id="modal-title" style="text-align: center; color: #333;"></h3> 
                <hr>
                <div id="modal-body">
                </div>
            </div>
        </div>
    </body>
</html>