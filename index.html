<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simplified Layout with Full Interactivity</title>
<style>
  /* 歸零設定 */
  * { box-sizing: border-box; margin: 0; padding: 0; }

  /* 核心容器 */
  .container {
    display: grid;
    height: 100vh;
    width: 100%;
    /* 左側 20%，右側剩餘空間 */
    grid-template-columns: 20% 1fr; 
    /* 上下各一半 */
    grid-template-rows: 1fr 1fr;
    gap: 10px; 
    padding: 10px; 
    background-color: #f0f2f5; 
  }

  /* 通用區塊樣式 */
  .box {
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    overflow: hidden; /* 防止內容溢出圓角 */
  }

  /* --- 左側 Sidebar 樣式 (科技/學園風) --- */
  .sidebar {
    /* 改為深藍色系漸層，呈現科技與專業感 */
    background: linear-gradient(160deg, #000428 0%, #004e92 100%);
    color: white;
    grid-row: span 2; 
    
    /* 內容排列設定 */
    display: flex;
    flex-direction: column; 
    padding: 20px;
    overflow-y: auto; 
    scroll-behavior: smooth; 
  }

  .sidebar h3 {
    margin-bottom: 25px;
    /* 改為實線邊框搭配亮藍色，增加科技感 */
    border-bottom: 2px solid #4facfe; 
    padding-bottom: 15px;
    font-size: 1.4rem;
    text-align: center;
    letter-spacing: 2px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  }

  /* 手風琴效果樣式 (卡片化) */
  details {
    margin-bottom: 12px;
    background: rgba(255,255,255,0.08); /* 稍微降低透明度 */
    border-radius: 8px; /* 圓角稍微銳利一點 */
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid rgba(255,255,255,0.05);
    backdrop-filter: blur(2px);
  }

  details:hover {
    background: rgba(255,255,255,0.15);
    border-color: #4facfe; /* 懸停時邊框發光 */
    transform: translateX(5px); 
  }
  
  /* 增加選中時的高亮效果 */
  details[open] {
    background: rgba(0, 180, 255, 0.2); /* 選中時帶點藍光 */
    border: 1px solid #4facfe;
    box-shadow: 0 0 10px rgba(79, 172, 254, 0.3);
  }

  summary {
    padding: 15px;
    font-weight: bold;
    list-style: none; 
    display: flex;
    justify-content: space-between;
    align-items: center;
    outline: none;
    font-size: 1.05rem;
  }
  
  /* 自訂展開箭頭 */
  summary::after {
    content: '❯';
    font-size: 0.9em;
    transition: transform 0.3s;
    color: #4facfe;
  }
  details[open] summary::after {
    transform: rotate(90deg); 
  }

  /* 展開後的小選單 */
  .sub-list {
    list-style: none;
    background: rgba(0,0,0,0.3); /* 深色背景，增加對比 */
    padding: 10px;
    margin: 0 10px 10px 10px; 
    border-radius: 6px;
  }
  .sub-list li {
    padding: 8px 15px;
    font-size: 0.9rem;
    color: #cfd9df;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    transition: 0.2s;
    display: flex;
    align-items: center;
  }
  .sub-list li:last-child {
    border-bottom: none;
  }
  /* 加入小方塊裝飾 */
  .sub-list li::before {
    content: '';
    display: inline-block;
    width: 6px;
    height: 6px;
    background-color: #4facfe; /* 科技藍 */
    margin-right: 10px;
    transform: rotate(45deg); /* 菱形 */
  }
  .sub-list li:hover {
    background: rgba(255,255,255,0.05);
    color: white;
    padding-left: 20px; 
  }
  
  /* 針對 Sidebar 內的連結樣式調整 */
  .sub-list a {
    color: inherit;
    text-decoration: none;
    width: 100%; /* 讓點擊範圍變大 */
    display: block;
  }

  /* --- 右上區塊樣式 --- */
  .main-top {
    /* 預設背景圖 + 漸層遮罩 */
    background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), 
                      url('https://images.unsplash.com/photo-1497215728101-856f4ea42174?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
    background-size: cover;
    background-position: center;
    color: white;
    transition: background-image 0.5s ease-in-out; 

    /* 佈局設定 */
    display: flex;
    flex-direction: column;
    justify-content: space-between; 
    align-items: center;
    padding: 20px;
  }

  .title-group {
    text-align: center;
    margin-top: 10px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  }

  .main-title {
    font-size: 2.5rem;
    font-weight: bold;
    margin-bottom: 5px;
  }

  .sub-title {
    font-size: 1.2rem;
    opacity: 0.9;
    letter-spacing: 2px;
    transition: opacity 0.3s; 
  }

  /* 中間的大圓頭像 */
  .main-avatar {
    width: 120px;
    height: 120px;
    background-color: #fff;
    border-radius: 50%; 
    border: 4px solid rgba(255,255,255,0.8);
    background-image: url('https://ui-avatars.com/api/?name=Leader&background=random&size=256');
    background-size: cover;
    background-position: center;
    box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    transition: transform 0.3s, background-image 0.3s; 
  }

  .main-avatar:hover {
    transform: scale(1.05);
  }

  /* 底部組員頭像列 (高度縮減調整) */
  .member-row {
    display: flex;
    /* 增加寬度，減少壓迫感 */
    width: 90%;
    justify-content: space-evenly;
    
    background: rgba(255,255,255,0.15);
    /* 減少 padding 來降低高度 */
    padding: 12px 20px; 
    border-radius: 50px; 
    backdrop-filter: blur(5px); 
    align-items: center; /* 垂直置中 */
  }

  .member-icon {
    /* 尺寸調整為 75px */
    width: 75px;
    height: 75px;
    background-color: #ddd;
    /* 調整圓角比例 */
    border-radius: 18px; 
    background-size: cover;
    background-position: center;
    transition: transform 0.2s, border 0.2s, box-shadow 0.2s;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    border: 2px solid transparent; 
  }
  
  .member-icon:hover {
    transform: translateY(-3px);
    border-color: rgba(255,255,255,0.8);
  }

  /* 被選中的按鈕樣式 */
  .member-icon.active {
    transform: translateY(-3px) scale(1.1);
    border-color: #ffffff;
    box-shadow: 0 0 15px rgba(255,255,255,0.6);
  }

  /* --- 右下區塊樣式 (作品集展示) --- */
  .main-bottom {
    background-color: #333;
    background-size: cover;
    background-position: center;
    transition: background-image 0.5s ease-in-out;
    color: white; 
    display: flex;
    flex-direction: column;
    padding: 30px; 
    overflow-y: auto;
  }

  /* 右下標題 */
  .portfolio-header {
    margin-bottom: 20px;
    border-left: 5px solid #4facfe; /* 改為科技藍 */
    padding-left: 15px;
    text-shadow: 0 2px 5px rgba(0,0,0,0.8); 
  }

  .portfolio-header h2 {
    color: white; 
    font-size: 1.8rem;
    margin-bottom: 5px;
  }

  .portfolio-header p {
    color: rgba(255,255,255,0.9);
    font-size: 0.95rem;
  }

  /* 作品列表容器 */
  .portfolio-list {
    display: flex;
    /* 卡片之間的間隔增加 */
    gap: 60px; 
    height: 100%; 
    padding-bottom: 20px;
    
    /* 左右內距設定 8% */
    padding-left: 8%;
    padding-right: 8%;
  }

  /* 單個作品卡片 (透明容器) */
  .portfolio-item {
    flex: 1; 
    background: transparent; 
    box-shadow: none; 
    border: none;
    display: flex;
    flex-direction: column; 
    gap: 50px; 
    transition: transform 0.2s;
    
    /* 連結樣式修正 */
    text-decoration: none;
    color: inherit;
    cursor: pointer;
  }

  /* 連結與非連結 hover 效果 */
  .portfolio-item:hover {
    transform: translateY(-5px);
  }
  
  a.portfolio-item:hover {
    opacity: 0.9;
  }

  /* 縮圖區域 (獨立懸浮) - 比例 3:2 */
  .thumb-box {
    flex: 3; 
    width: 100%; 
    background-color: #ddd;
    background-size: cover;
    background-position: center;
    border-radius: 12px; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.3); 
    border: 2px solid rgba(255,255,255,0.2); 
  }

  /* 內容區域 (獨立懸浮) - 比例 3:2 */
  .info-box {
    flex: 2; 
    padding: 15px;
    display: flex;
    flex-direction: column;
    background: rgba(255, 255, 255, 0.9); 
    backdrop-filter: blur(5px);
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); 
    color: #333; 
    overflow-y: auto; 
  }

  .info-tag {
    font-size: 0.8rem;
    color: #004e92; /* 改為深藍 */
    font-weight: bold;
    margin-bottom: 5px;
    text-transform: uppercase;
  }

  .info-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #333;
    margin-bottom: 8px;
  }

  .info-desc {
    font-size: 0.9rem;
    color: #555;
    line-height: 1.5;
  }

</style>
</head>
<body>

<div class="container">
  
  <!-- 左側邊欄 -->
  <aside class="box sidebar">
    <h3>小組名單</h3>
    
    <!-- 組員 A -->
    <details id="details-A" open>
      <summary onclick="changeMember('A'); return false;">組員 A (組長)</summary>
      <ul class="sub-list">
        <li><a href="index.html">P1: 專案企劃</a></li>
        <li><a href="N1146710/p2.html">P2: 進度追蹤</a></li>
        <!-- ★★★ 修改處：直接在 Sidebar 加入超連結 ★★★ -->
        <li><a href="N1146710/p3.html">P3: 書面報告</a></li>
      </ul>
    </details>

    <!-- 組員 B -->
    <details id="details-B">
      <summary onclick="changeMember('B'); return false;">組員 B</summary>
      <ul class="sub-list">
        <li>P1: 前端開發</li>
        <li>P2: UI 設計</li>
        <li>P3: 測試除錯</li>
      </ul>
    </details>

    <!-- 組員 C -->
    <details id="details-C">
      <summary onclick="changeMember('C'); return false;">組員 C</summary>
      <ul class="sub-list">
        <li>P1: 後端架構</li>
        <li>P2: 資料庫</li>
        <li>P3: API 串接</li>
      </ul>
    </details>

    <!-- 組員 D -->
    <details id="details-D">
      <summary onclick="changeMember('D'); return false;">N1146729_黃威融</summary>
      <ul class="sub-list">
        <li><a href="N1146729/page1.html">page1</a></li>
        <li><a href="N1146729/page2.html">page2</a></li>
        <li><a href="N1146729/page3.html">page3</a></li>
      </ul>
    </details>

    <!-- 組員 E -->
    <details id="details-E">
      <summary onclick="changeMember('E'); return false;">組員 E</summary>
      <ul class="sub-list">
        <li>P1: 影像處理</li>
        <li>P2: 文案撰寫</li>
        <li>P3: 社群行銷</li>
      </ul>
    </details>

    <!-- 組員 F -->
    <details id="details-F">
      <summary onclick="changeMember('F'); return false;">組員 F</summary>
      <ul class="sub-list">
        <li>P1: 社群管理</li>
        <li>P2: 活動企劃</li>
        <li>P3: 成效分析</li>
      </ul>
    </details>
  </aside>

  <!-- 右上區塊 -->
  <main class="box main-top" id="main-top-box">
    <!-- 上方：文字標題 -->
    <div class="title-group">
      <h1 class="main-title">網頁設計實務</h1>
      <p class="sub-title" id="member-subtitle">第三組 - 飛天小女警 (全體)</p>
    </div>

    <!-- 中間：大圓頭像 -->
    <div class="main-avatar" id="big-avatar"></div>

    <!-- 下方：組員方塊頭像 -->
    <div class="member-row">
      <div id="btn-A" class="member-icon active" onclick="changeMember('A')" style="background-image: url('https://ui-avatars.com/api/?name=A&background=0D8ABC&color=fff');" title="組員 A"></div>
      <div id="btn-B" class="member-icon" onclick="changeMember('B')" style="background-image: url('https://ui-avatars.com/api/?name=B&background=e67e22&color=fff');" title="組員 B"></div>
      <div id="btn-C" class="member-icon" onclick="changeMember('C')" style="background-image: url('https://ui-avatars.com/api/?name=C&background=27ae60&color=fff');" title="組員 C"></div>
      <div id="btn-D" class="member-icon" onclick="changeMember('D')" style="background-image: url('https://ui-avatars.com/api/?name=D&background=8e44ad&color=fff');" title="組員 D"></div>
      <div id="btn-E" class="member-icon" onclick="changeMember('E')" style="background-image: url('https://ui-avatars.com/api/?name=E&background=c0392b&color=fff');" title="組員 E"></div>
      <div id="btn-F" class="member-icon" onclick="changeMember('F')" style="background-image: url('https://ui-avatars.com/api/?name=F&background=34495e&color=fff');" title="組員 F"></div>
    </div>
  </main>

  <!-- 右下區塊 -->
  <div class="box main-bottom" id="main-bottom-box">
    <div class="portfolio-header">
      <h2 id="bottom-title">組員 A 作品集</h2>
      <p>點擊上方組員頭像以查看不同成員的貢獻</p>
    </div>
    <div class="portfolio-list" id="portfolio-list">
      <!-- 作品卡片範本將由 JS 生成 -->
    </div>
  </div>
</div>

<script>
  // 定義組員資料庫 (包含作品集資料 works)
  const memberData = {
    'A': {
      subtitle: "組員 A - 專案企劃 (組長)",
      bg: "https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=1350&q=80",
      avatar: "https://ui-avatars.com/api/?name=A&background=0D8ABC&color=fff&size=256",
      works: [
        { title: "專案企劃書", tag: "P1", img: "https://images.unsplash.com/photo-1512314889357-e157c22f938d?auto=format&fit=crop&w=500&q=60", desc: "制定完整專案時程表、甘特圖與規格需求文件。", link: "index.html" },
        { title: "進度追蹤", tag: "P2", img: "https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?auto=format&fit=crop&w=500&q=60", desc: "每週召開會議確認開發進度，排除團隊障礙。",link: "N1146710/p2.html" },
        // ★★★ 改回標準做法：只要有 link 屬性，生成時會用 <a> 標籤 ★★★
        { title: "結案報告", tag: "P3", img: "https://images.unsplash.com/photo-1506784983877-45594efa4cbe?auto=format&fit=crop&w=500&q=60", desc: "彙整所有成果，製作最終成果發表簡報與書面報告。", link: "N1146710/p3.html" }
      ]
    },
    'B': {
      subtitle: "組員 B - 前端開發工程師",
      bg: "https://images.unsplash.com/photo-1550439062-609e1531270e?auto=format&fit=crop&w=1350&q=80",
      avatar: "https://ui-avatars.com/api/?name=B&background=e67e22&color=fff&size=256",
      works: [
        { title: "HTML/CSS 架構", tag: "P1", img: "https://images.unsplash.com/photo-1587620962725-abab7fe55159?auto=format&fit=crop&w=500&q=60", desc: "建置響應式網頁骨架，確保在手機與桌機皆能瀏覽。" },
        { title: "UI 元件開發", tag: "P2", img: "https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?auto=format&fit=crop&w=500&q=60", desc: "設計並實作按鈕、導航列、卡片等可重複使用的元件。" },
        { title: "互動特效", tag: "P3", img: "https://images.unsplash.com/photo-1555099962-4199c345e5dd?auto=format&fit=crop&w=500&q=60", desc: "使用 JavaScript 撰寫 DOM 操作，增加使用者體驗互動。" }
      ]
    },
    'C': {
      subtitle: "組員 C - 後端架構工程師",
      bg: "https://images.unsplash.com/photo-1558494949-ef526b0042a0?auto=format&fit=crop&w=1350&q=80",
      avatar: "https://ui-avatars.com/api/?name=C&background=27ae60&color=fff&size=256",
      works: [
        { title: "伺服器架設", tag: "P1", img: "https://images.unsplash.com/photo-1558494949-ef526b0042a0?auto=format&fit=crop&w=500&q=60", desc: "配置 Node.js 伺服器環境，設定路由與中介軟體。" },
        { title: "資料庫設計", tag: "P2", img: "https://images.unsplash.com/photo-1544383835-bda2bc66a55d?auto=format&fit=crop&w=500&q=60", desc: "規劃資料庫關聯圖 (ERD)，建立 MySQL 資料表結構。" },
        { title: "API 開發", tag: "P3", img: "https://images.unsplash.com/photo-1516116216624-53e697fedbea?auto=format&fit=crop&w=500&q=60", desc: "撰寫 RESTful API 供前端串接，處理登入驗證與資料存取。" }
      ]
    },
    'D': {
      subtitle: "組員 D - 資料分析與收集",
      bg: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1350&q=80",
      avatar: "https://ui-avatars.com/api/?name=D&background=8e44ad&color=fff&size=256",
      works: [
        { title: "page1", tag: "P1", img: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=500&q=60", desc: "page1",link: "N1146729/page1.html" },
        { title: "page2", tag: "P2", img: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=500&q=60", desc: "page2" ,link: "N1146729/page2.html"},
        { title: "page3", tag: "P3", img: "https://images.unsplash.com/photo-1542744094-24638eff58bb0?auto=format&fit=crop&w=500&q=60", desc: "page3" ,link: "N1146729/page3.html"}
      ]
    },
    'E': {
      subtitle: "組員 E - 影像處理與設計",
      bg: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?auto=format&fit=crop&w=1350&q=80",
      avatar: "https://ui-avatars.com/api/?name=E&background=c0392b&color=fff&size=256",
      works: [
        { title: "修圖與去背", tag: "P1", img: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?auto=format&fit=crop&w=500&q=60", desc: "處理產品照片，進行去背、調色與合成作業。" },
        { title: "文案撰寫", tag: "P2", img: "https://images.unsplash.com/photo-1455390582262-044cdead277a?auto=format&fit=crop&w=500&q=60", desc: "撰寫網站所需的標題、內文與行銷短語。" },
        { title: "社群行銷圖", tag: "P3", img: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?auto=format&fit=crop&w=500&q=60", desc: "設計用於 Instagram 與 Facebook 的宣傳貼文圖片。" }
      ]
    },
    'F': {
      subtitle: "組員 F - 行銷推廣與社群",
      bg: "https://images.unsplash.com/photo-1533750516457-a7f992034fec?auto=format&fit=crop&w=1350&q=80",
      avatar: "https://ui-avatars.com/api/?name=F&background=34495e&color=fff&size=256",
      works: [
        { title: "社群經營", tag: "P1", img: "https://images.unsplash.com/photo-1611162616475-46b635cb6868?auto=format&fit=crop&w=500&q=60", desc: "建立粉絲專頁，定期發文與粉絲互動。" },
        { title: "活動企劃", tag: "P2", img: "https://images.unsplash.com/photo-1505373877841-8d25f7d46678?auto=format&fit=crop&w=500&q=60", desc: "規劃線上抽獎活動，提升品牌知名度與觸及率。" },
        { title: "成效分析", tag: "P3", img: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=500&q=60", desc: "利用 GA 與 FB Insights 分析流量來源與轉換率。" }
      ]
    }
  };

  const topBox = document.getElementById('main-top-box');
  const bottomBox = document.getElementById('main-bottom-box');
  const subtitleText = document.getElementById('member-subtitle');
  const bigAvatar = document.getElementById('big-avatar');
  const bottomTitle = document.getElementById('bottom-title');
  const portfolioList = document.getElementById('portfolio-list');

  // 切換函式
  function changeMember(id) {
    const data = memberData[id];
    
    if (data) {
      // --- 1. 右上視覺更新 ---
      subtitleText.style.opacity = 0;
      setTimeout(() => {
        subtitleText.textContent = data.subtitle;
        subtitleText.style.opacity = 1;
      }, 200);

      bigAvatar.style.backgroundImage = `url('${data.avatar}')`;
      topBox.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('${data.bg}')`;

      // --- 2. 左側 Sidebar 連動 ---
      const allDetails = document.querySelectorAll('.sidebar details');
      allDetails.forEach(el => el.removeAttribute('open'));

      const targetDetail = document.getElementById(`details-${id}`);
      if (targetDetail) {
        targetDetail.setAttribute('open', '');
        targetDetail.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }

      // --- 3. 右側按鈕連動 ---
      document.querySelectorAll('.member-icon').forEach(btn => btn.classList.remove('active'));
      const activeBtn = document.getElementById(`btn-${id}`);
      if (activeBtn) activeBtn.classList.add('active');

      // --- 4. 右下區塊更新 (新增背景圖切換) ---
      // 使用與上方相同的背景圖，但加上較深的遮罩 (0.8) 讓白色文字與亮色卡片更突出
      bottomBox.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('${data.bg}')`;

      // 更新標題
      bottomTitle.textContent = `${data.subtitle.split('-')[0]}的作品集`; 
      
      // 生成作品卡片 HTML
      let cardsHtml = '';
      data.works.forEach(work => {
        // ★★★ 關鍵：改回標準 <a> 標籤邏輯 ★★★
        // 判斷是否有連結，若有則使用 <a> 標籤，否則使用 <div>
        const tagType = work.link ? 'a' : 'div';
        // 因為是本地端跳轉，不需要 target="_blank"
        const hrefAttr = work.link ? `href="${work.link}"` : '';
        
        cardsHtml += `
          <${tagType} ${hrefAttr} class="portfolio-item">
            <div class="thumb-box" style="background-image: url('${work.img}');"></div>
            <div class="info-box">
              <span class="info-tag">${work.tag}</span>
              <h4 class="info-title">${work.title}</h4>
              <p class="info-desc">${work.desc}</p>
            </div>
          </${tagType}>
        `;
      });
      portfolioList.innerHTML = cardsHtml;
    }
  }

  // 頁面載入時，預設顯示組員 A 的內容
  window.onload = function() {
    changeMember('A');
  };
</script>

</body>
</html>